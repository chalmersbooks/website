<ui:composition template="../template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="content">
        <b:container>
            <b:column span="3">
                <b:panel look="primary" title="#{profile.name}">
                    <b:listLinks>
                        <b:button onclick="$('.modal').modal('show')" value="Change Password"/>
                        <b:modal title="Change Password" styleClass="modal"
                                 closable="false"
                                 closeOnEscape="true">
                            <b:form id="passGrid">
                                <div>
                                    <b:row>
                                        <b:inputSecret id="old-password"
                                                       placeholder="Old password"
                                                       fieldSize="lg"
                                                       required="true"
                                                       requiredMessage="Enter password"
                                                       value="#{profile.oldPassword}">
                                        </b:inputSecret>
                                    </b:row>
                                    <b:row>
                                        <b:inputSecret id="new-password"
                                                       placeholder="New password"
                                                       fieldSize="lg"
                                                       required="true"
                                                       requiredMessage="Enter password"
                                                       validator="#{registerBean.validatePassword}"
                                                       value="#{profile.newPassword}">
                                        </b:inputSecret>
                                    </b:row>
                                    <b:row>
                                        <b:inputSecret id="repeat-password"
                                                       placeholder="Repeat password"
                                                       fieldSize="lg"
                                                       required="true"
                                                       requiredMessage="Enter password"
                                                       value="#{profile.repeatPassword}">
                                        </b:inputSecret>
                                        <b:message for="confirm-password" showIcon="false"/>
                                        <o:validateEqual id="equal"
                                                         components="new-password repeat-password"
                                                         message="Passwords are not equal"
                                                         showMessageFor="repeat-password"/>
                                    </b:row>
                                    <b:row>
                                        <b:column>
                                            <p:button value="Cancel"
                                                      dismiss="modal"/>
                                            <p:commandButton value="Update password" look="success"
                                                             update="passGrid"/>
                                        </b:column>
                                    </b:row>
                                    <b:fetchBeanInfos/>
                                    <b:messages id="messages" showDetail="true" autoUpdate="true"/>
                            </div>
                        </b:form>
                    </b:modal>
                        <b:button href="user_ads.xhtml" value="See your active ads"/>
                        <b:button href="user_info.xhtml" value="Edit personal information" disabled="true"/>
                        <b:button href="index.xhtml" value="Go back"/>
                </b:listLinks>
            </b:panel>
        </b:column>
    </b:container>
</ui:define>
        </ui:composition>